---
title: "[随時更新] 開発生産性Conference参加メモ #開発生産性con_findy"
type: "note"
category: []
description: "開発生産性Conferenceのメモ"
thumbnail: ""
publish: false
---


# 組織をスケールさせるためのFour Keysとチームトポロジー

株式会社タイミー: VPoE

## 最初

* タイミーの事業やプロダクトの現在地
* 現在の開発組織のコンセプトと開発生産性への取り組み

## タイミーについて

スキマバイトのトップシェア

## 既存事業はまだまだ伸びる

* スポットワークは新しい働き方
* 人手不足はあらゆるところで発生している
* 競合環境は厳しさを増してきている

## 将来を見越した先行投資

強いスイッチングコストモートを築くためのパーナーシップ

開発生産性を高く保った上で、再現性のある組織拡大とプロセ

* 現在の開発組織の
  * LeanとDeOpsの科学
  * チームトポロジー
  * プロダクトマネジメント(ビルドトラップ本)
* サービス組織開発の全体像
  * プラットフォームエンジニア領域(チームトロぽジー的な観点で掘り下げる)
* チームの実例
  * Sopotifyにおけるトライゔとスクアドの関係に限りなく近い

* チームとポリジーによるチームパターン
  * ユーザージャーニーに基づくチームと考えられる
* プラットフォームチーム

* SAチームのフロー効率を高める
  * Product Mangagerの多くにエンジニアリングバックボーンを推奨
    * PBIは顧客への価値提案以外のタスクが存在する
  * 摂理面の検討や逆コンウェイの法則基づく適切な...
* SAチームのフロー効率を高める(2/3)
  * トランクベースの開発
  * テストカバレッジの高め
  * CIの実行時間が10minを声ないように
  * カバレッジ95%
  * 5time/dayのデプロイ頻度
  * カルチャーのケイパビリティ
    * 学習するメンバーに支援を実施。種類が多い
      * 1万円支給
      * 事務手付きなどを代行
      * OREILLY TOWER
  * PM(PO)と専任SM、弱めのEMの三位一体スクラムチーム
  * 弱絵のEM()がPMとニコイチ
    * 戦略からから個人OKRへ落とし込み、組織の足並みを揃え、、、
* Four keys / DevOps Cpabilities
  * 全てはビジネスゴールとプロダクトビジョンの達成のため


### 
適切な摂理面が探索できていない

バリューチェーンの
意図的にRailsをモノリスにしている


## どこまでをプラットフォームとするか

SAチームがSDLC


## ラディカル・プロダクト・シンキング

小さなプロダクトゴールを追い求める


## 摂理面の探索

## PlatformとEnablingを使い分ける(1/2)

### Securityのあり方


### 品質管理のあり方
* 品質分析
* 障害分析
* SEt inforaの提供
* SET ライブラリの開発

Platformチームとして振る舞う


Spotifyモデルの組織設計を参考にしていく
とライブとすクアッドに分ける。

## まとめ


急成長するスポートワーク業界

開発生成に対する取り組み

これからの課題
 チームトポロジーを軸にした組織設計



# なぜFour Keysを改善するのか ~How ではなく Why を重視したメトリクス改善活動

## リンクアンドモチベーションのSREと開発組織

* 2022にSRE
* デプロイ回数
  * 120回
* 4つのチームタイプ
  * モチベーションんクラウド
  * コミュニケーションクラウド
  * ストレッいくらうど
  * インフラ(SRE

## 本日話したいこと

SREが
* デプロイの自動か
* コンテナ
* IaC

### 開発者全員で改善活動しようぜ

SREがチーム横断でヒアリングする。
具体的なアクションの指示。
SREは、サービスへのオーナーシップは持っていない。



#### 改善のWhyを言語化する

他の仕事で忙しいあった。とあるPRを1ヶ月放置していた。
PRを作り直す、リードタイムを3日するが目的にする。

リードタイム3日以内を目指そう。3日って何？マジックナンバーだよね。

ゴールデンサークル理論。Whyからはじめよ！

* みんなが能動的に活動できる
* 目的を見失わないために

なぜ3日目指すんだっけ?

社員: 4名
パートナー: 4名

デプロイ頻度=Highが入る(1日1回デプロイ)
週で5回デプロイするようになった。=生産性がよくなった?<=>リリース作業3時間かかっいて、辛い。
リリースばっかやってて、開発に着手できていない、、

週2回でいいになった。なんでデプロイしてたんだろう？

デプロイ頻度あげたい。なぜデプロイ頻度低いとダメなの？
どんな開発をしたいかという理想。


* デプロイ頻度とは？
  * デプロイ頻度少ない
  * feature/A , B ,Cがある時に、頭の機能がバグると全部戻さないといけない
  * featureとリリースが一致しているといい。
  * 安全な切り戻し
    * 切り戻しや再リリース
* リードタイム
  * マージまでの時間が短い
  * 単に分割してマージ
    * First Commit -> リリース
  * PRが小さいと品質が上がる
    * 分けたら大変じゃないか？
    * みんなが隣で何を開発しているか気にしないですむ
* 1~2PRで100files
* 100PRで80回デプロイ
* デプロイ頻度上げたら、MTTRが下がった
* メトリクスがどれに起因してくるか
* アプリ開発者
  * 新しいチームを作った。個人目標に入れ、
    * 所属チームの結節点となるA,B,CをSREから選出(?)。ボランティではなく個人の仕事にする
    * SREがチームに入るようにした。
      * 障害が起きていた理由がわかった。

  * 改善推進者のオーナシップをチームが持つことが大事
    * (チームトポロジー) 智サービスチームは食横断型
      * 一時的にJOIして(いねーブリング)
        * Whyから始めるのことを教える
      * メトリクス計測の自動化
        * Looker studioで自前
      * 改善運用プロセス
      * Whyから始める思想
  * デプロイ頻度が低い原因も、、
  * メトリクスのマジックナンバーの意味は？Whyを考える


# Four Keys改善だけはない。ZOZOTOWN/WEARの開発生産性向上の取り組み

## 登壇者紹介
### 御立田悠様
### 堀江亮介


## ZOZOTOWNのとりくみ


* 案件の渋滞
* 経営層も交えてディスカッション
* ユーザーへの価値提供を増やしたい
  * 見ている指標
    * リリース案件数
    * リードタイムを短くするか
      * 企画、開発、QA、リリース
    * 可視化で難しかったポイント
      * レベル1、レベル2,レベル3があって、1,2をやる
        * Findy Team+をつかってレベル1生産性可視化に取り組んでいる
          * 開発プロセスを整理する
      * うまく行かなかった施策
        * Team+使ってもらえない問題があった
          * 説明会を開いた
            * けどだめだった
              * 個別にチームごと入り込んではいらないといけかった
## Wear

* 開発生産３倍 -> ぷろりくくろーず24h -> 計測しよう
  * 上司が3倍にしようぜとなった
    * プルリククローズを24時間にしようとなった
    * Spaceでアクティビティが図りやすい
      * Four keysにフォーカスしなかったのか？
        * 各チームの運用があって、
          * どこの会社も2週間リリースの場合もあり、コントロール可能ではない。
    * 現状把握
      * たくさん・地道にトライ
        * レビューがボトルネックになっていた
        * すごい細かい施策をして、良くなっていた
      * レビュアーに優しいプルリクつくりとは？
        * そもそもプルリクをつかってレビューする意味
          * hogehoge見てもらう人に巨大な変更を渡すと、
          * あんけんかんりにJiraを利用
            * 作業対してチケットに開発者目線で限界がある。
              * Jiraのサブタスク機能
                * テキスト入力するリスナーつくるなどもっと細かくして、それに応じたPRを作るようにした。
                  * レビューワーが見たら、すぐ分かる状態になった(PRタイトル分チケットを作成した)
      * 237時間から30時間に減った。

## QA

# 大手企業の開発内製化事例 〜東急×KINTOが語る内製化の3ステップ〜

## 東急

昨年100周年を迎えた

* 交通インフラ
* 生活サービス・リテール
* 都市開発
* ホスピタリティ

連結230社

リアル事業にどうデジタルを取り込むか。
* URBAN HACKS
  * 東急グループの資産をはっくして、より豊かな暮らしをつくる
  * 50名の仲間が入った
    * 10このプロジェクト
  * シニアクラスを広く集めて続けた(おすすめしない)
    * 自立分散50人を試す
      * よかったことは速度感
      * 100人になったとき、できてるのかな(？)
    * マネージャー不在
  * 成熟期
    * エンジニアの理想郷を作る
      * エンジニアが自分が楽しく働けるのが、生産性があがる
        * 自分がやりたいことをお客さんに提供していく
  * いろんな新しいツールをボトムアップで使えるようにする
    * GitHub Copilotを使うとか
    * ツールの宗教戦争が起こる
    * 新しいツールを使って取捨選択をしていく
* KINTOテクノロジー
  * 9割
  * KINTO IDがあれば、世界で使える(裏側はオープンIDコネクト)
  * トヨタのうーぶんしてぃの決済機能
    * トヨタウォレットの開発サポート
  * KINTO ONE
    * KINTOテクノロジー
    * ガソリン代・駐車場代・高速代がコミコミ
    * トヨタは車をうってない。販売店へ関係の影響
    * Webサービスを育てないといけないという雰囲気
    * 最初は年間に100台もいかない
      * 最近は伸びて、10万台
        * ようやく潰れないですむなという感じ
    * グロースを担う、多様な人材と組織
      * アプリエンジニア・デザイナー・QA
      * Webサービス企業・SIer出身者を中心に人材が集う
      * 総勢600人くらいでやっているがリソースが足りない
      * 完全に外から撮ったメンバーのみ
    * 自分のネットワークから探す
      * 声掛けだけで、20人くらい集めた
      * 仕様はチャットツールにあります。nullpoの嵐。テストも相当荒い。
    * 今年の8月ですが、2年かけて刷新
     * 社長もメンバーを責めないでくれ
  * ビジネスサイドとの関係性
    * 発注者の意識が強い
    * 特にWebまわりは、素人でもなんでも言える
      * 事業サイドのパワポのフォントで作っていたい
      * 内政開発部隊とのつきあいに困っていた
      * システムそのものがビジネス
    * ビジネスサイドとエンジニアサイドの連携が重要
  * Team+を利用して
    * 意外とこいつ書いている人がわかる


# Four keysを超えて 〜信頼性はいかに開発生産性を高めるのか〜

SLOサービスレベル目標

Doraが年次で

2024年から毎年。
* 毎年1年においてDevopsの動向を報告している
  * ニコルさんを含めたないようをアクセルレート。2014- state of devsops report
* 信頼性とはなにか
* サイト信頼性
* State of DevOps Report(DORAが毎年1年にはっぴょうしている)
  * 2014 - 2017をまとめたのが、ACCELERATE。これの日本語訳がLeanとDevOpsの科学
    * four keysがあり、有名になった
* Four Kyes
  * 開発 - デプロイ
    * デプロ頻度
    * 変更リードタイム
  * 障害 - 復旧
    * 変更障害率
    * サービス復旧時間

組織のパフォーマンス

* リリースされたソフトウェアにユーザーが満足しなければ意味ない
* 可用性
* 2022年のSODRを見ると「信頼性」がある
* 5つ
  * 指標と監視
  * キャパシティ計画
  * 変更管理
  ...
* 信頼性とは
  * システムが求められるっ機能を、定められた条件の下で、定められた期間にわたり、障害を起こすことなく実行する確率

* サービスレベル指標(SLI)とサービスレベル目標(SLO)
  * ユーザーの満足度によく相関している指標とその目標
* 信頼性指標の元データ
  * リクエスト/レスポンス
  * データ処理
  * ストレージ
* CPUの利用率は関係ある？ユーザーの観点でみて、信頼性指標として使えるのか。
* SLI
  * (良いイベント/有効なイベント) * 100%
    * 良いイベント 2xx 3xx 4xxのレスポンス
* サービスレベル指標(SLI)の共有
  * SLIの種類: 可用性
  * SLI: CheckoutServiceの
  * SLO: 過去28日感の良いレスポンスが99%
* サービスレベル目標の共有
* サービスの信頼性を100%にすればいいのでは(ベンジャミン・とレイナー・スロス)
  * 100%にするのは間違え
    * 30日の許容範囲
      * 信頼性99.999にするには、25.9秒で修正する必要あり
      * 99.9の場合、43.2分
* 信頼性と開発生産性
  * エラーバジェット
    * 99.9
      * 30日間の1% 43.2分をエラーバジェットする
      * 新しい試みをした際のダウンタイム
        * CI/CDを導入してみた
    * 十分にある場合、開発のベロシティを優先する
    * 十分にない場合、信頼性を優先する
    * バーンレートアラート
      * エラーバジェットの消費が激しい場合、なくなってから事前に気づくのではなく、事前に気づくようにする
* エラーバジェットによって得られるメリット
  * 開発と運用の共有のインセンティブになる
* fourkeysを超えて、信頼性
  * SLO
  * エラー場じっと
  * バーンレート

* 2018年のSODR以降、Four keys肉わ言えて信頼性の重要性がより注目される
* サービレベル指標(SLI)
* サービレベル目標(SLO) 書籍!
  * SLI サービスレベル目標
  * SREサイトリラビリティエンジニアリング
  * SREサイトリラビリティワークブック
* 5番目の指標を計測しよう


# これからのソフトウェア開発 "GitHub x AI" による生産性革命

## Developer Experience

* テクノロジー
* 文化
* プロセス
* トランスフォーム


constant flow == happiness
* オンボーディングにかかる時間を最小限にする
* コンテキストスイッチを最小限に
* 過ぎれたソフトウェアを作るためには集中力が必要
* CodeSearch(検索が強くなっている)
  * Codespaces
  * copilot
* GitHub Copilot
  * 46% 80%はAIから提案される
    * ソフトウェアのアーキテクト
    * コードレビュー

* Ubiqitous
* Personalized
* Conversational
* Trusted


# Four keeys改善のハードシングス

## 生産性可視化指標何を見ていますか。

### Onk
* Four keysを見ている
  * はてな
    * 特に見ているのはデプロイ頻度
    * デプロイ数は取りやすい
  * BuySell
    * リードタイム
    * プルリク数
    * 高山さんはデプロイ数といって、良かった
  * ユーザベース 
    * four keys? デプロイ数
    * 2021年入社して1年後devsumiで発表して、良くなった話
* どの程度正確に計測していますか。
  * サイクルタイム
    * 定義通りにすると、そっちだったの？となる
    * チームで比較するのを大事にして、まず取ることを大事にした
    * 弱いチームは圧倒的に小さい考えた。なので正確しようとするほどコストがかかる
  * エリートなチームはどの指標も高い
  * チームによってリリースは1週間に1回と決まっている
    * mainブランチへデプロイ数をデプロイ数とした
  * 丸三日くらいPRがでてないエンジニアを探す(はてな)
    * 一日1回くらいにすることで、PRの粒度が揃ってくる
  * 1日で3プルリク出すにしたら
    * 逆算して、分割するようにした
* 生産性改善を進めるなかでの一番のハードルは？
  * BuySell
    * いきなり改善というよりは、PBIを作る
    * 数字が良くなったからいいとも言えない
    * 
  * ユーザベース 
    * SREと一緒にやり始めた
      * デプロイエンジニアリングをした
        * 成果が出た
          * 2年くらいたってデプロイ数が上がらなくなった
    * サブ会(SM同士の会)
      * リードタイムが遅い
        * リードタイムが早いと何がいいんですか？とい聞かれた
          * 自分の言葉で説明できないとだめ
        * 1デプロイに3時間かかっている
          * 推進する人が理由付け
          * チームがもっている課題とか、、
          * チームの課題感と階段がある
            * 自分たちが改善できるまで伴奏してもらう
     * 誰のレビュー時間どれくらいってわかる
       * 遅い人への対応
       * レビューが来たら即レビューするか、仕事続けるか
       * レビューきたら5分
       * 遅い人にヘイトが貯まる


# 大規模モデル時代の開発生産性

生産性の定義と開発生産性


* そもそも生産性とはなんなんか。
* 不信感の表明になってしまう
* 生産性
* ouput/ input = 生産性
* 経営学的な生産性
* ソフトウェア開発のアウトプットとは
  * ソースコードの行数
  * 完了したストーリーポイント
  * プルリクエストの数
  * 開発した昨日の勝ち
  ...
* ソフトウェアは最も複雑な構造物
  * ソフトウェアは本質的には2度同じものを持たない。
  * 抽象的な概念の同士の関連性が物理的制約を持たない
  ...












